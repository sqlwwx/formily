{"version":3,"file":"loading.js","sourceRoot":"","sources":["../../src/__builtins__/loading.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,EAAE,OAAO,EAAE,MAAM,MAAM,CAAA;AAE9B,MAAM,CAAC,IAAM,OAAO,GAAG,UACrB,KAAqC,EACrC,SAA6B;IAD7B,sBAAA,EAAA,oBAAqC;;;;;;oBAGjC,IAAI,GAAG,IAAI,CAAA;oBACX,OAAO,GAAG,UAAU,CAAC;wBACvB,IAAI,GAAG,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAA;oBAC/B,CAAC,EAAE,GAAG,CAAC,CAAA;;;;oBAEE,qBAAM,SAAS,EAAE,EAAA;wBAAxB,sBAAO,SAAiB,EAAA;;oBAExB,IAAI,aAAJ,IAAI,uBAAJ,IAAI,EAAI,CAAA;oBACR,YAAY,CAAC,OAAO,CAAC,CAAA;;;;;;CAExB,CAAA","sourcesContent":["import { message } from 'antd'\n\nexport const loading = async (\n  title: React.ReactNode = 'Loading...',\n  processor: () => Promise<any>\n) => {\n  let hide = null\n  let loading = setTimeout(() => {\n    hide = message.loading(title)\n  }, 100)\n  try {\n    return await processor()\n  } finally {\n    hide?.()\n    clearTimeout(loading)\n  }\n}\n"]}
{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/submit/index.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,gDAAyB;AACzB,6BAA6B;AAG7B,wCAAwD;AAS3C,QAAA,MAAM,GAA2B,IAAA,gBAAQ,EACpD,UAAC,EAAqE;IAAnE,IAAA,QAAQ,cAAA,EAAE,cAAc,oBAAA,EAAE,eAAe,qBAAA,EAAK,KAAK,cAArD,iDAAuD,CAAF;IACpD,IAAM,IAAI,GAAG,IAAA,qBAAa,GAAE,CAAA;IAC5B,OAAO,CACL,8BAAC,aAAM,aACL,QAAQ,EAAE,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,EACxC,IAAI,EAAC,SAAS,IACV,KAAK,IACT,OAAO,EAAE,KAAK,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,EACtE,OAAO,EAAE,UAAC,CAAC;YACT,IAAI,KAAK,CAAC,OAAO,EAAE;gBACjB,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,KAAK;oBAAE,OAAM;aACvC;YACD,IAAI,QAAQ,EAAE;gBACZ,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,KAAK,CAAC,cAAc,CAAC,CAAA;aAClE;QACH,CAAC,KAEA,KAAK,CAAC,QAAQ,CACR,CACV,CAAA;AACH,CAAC,EACD;IACE,UAAU,EAAE,IAAI;CACjB,CACF,CAAA;AAED,kBAAe,cAAM,CAAA","sourcesContent":["import React from 'react'\nimport { Button } from 'antd'\nimport { ButtonProps } from 'antd/lib/button'\nimport { IFormFeedback } from '@formily/core'\nimport { useParentForm, observer } from '@formily/react'\n\nexport interface ISubmitProps extends ButtonProps {\n  onClick?: (e: React.MouseEvent<Element, MouseEvent>) => any\n  onSubmit?: (values: any) => any\n  onSubmitSuccess?: (payload: any) => void\n  onSubmitFailed?: (feedbacks: IFormFeedback[]) => void\n}\n\nexport const Submit: React.FC<ISubmitProps> = observer(\n  ({ onSubmit, onSubmitFailed, onSubmitSuccess, ...props }: ISubmitProps) => {\n    const form = useParentForm()\n    return (\n      <Button\n        htmlType={onSubmit ? 'button' : 'submit'}\n        type=\"primary\"\n        {...props}\n        loading={props.loading !== undefined ? props.loading : form.submitting}\n        onClick={(e) => {\n          if (props.onClick) {\n            if (props.onClick(e) === false) return\n          }\n          if (onSubmit) {\n            form.submit(onSubmit).then(onSubmitSuccess).catch(onSubmitFailed)\n          }\n        }}\n      >\n        {props.children}\n      </Button>\n    )\n  },\n  {\n    forwardRef: true,\n  }\n)\n\nexport default Submit\n"]}
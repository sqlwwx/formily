{"version":3,"file":"Field.js","sourceRoot":"","sources":["../../src/models/Field.ts"],"names":[],"mappings":"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","sourcesContent":["import { isValid, isEmpty, toArr, FormPathPattern } from '@formily/shared'\nimport {\n  ValidatorTriggerType,\n  parseValidatorDescriptions,\n} from '@formily/validator'\nimport {\n  define,\n  observable,\n  reaction,\n  batch,\n  toJS,\n  action,\n} from '@formily/reactive'\nimport {\n  JSXComponent,\n  LifeCycleTypes,\n  IFieldFeedback,\n  FeedbackMessage,\n  IFieldCaches,\n  IFieldRequests,\n  FieldValidator,\n  FieldDataSource,\n  ISearchFeedback,\n  IFieldProps,\n  IFieldResetOptions,\n  IFieldState,\n  IModelSetter,\n  IModelGetter,\n} from '../types'\nimport {\n  updateFeedback,\n  queryFeedbacks,\n  allowAssignDefaultValue,\n  queryFeedbackMessages,\n  getValuesFromEvent,\n  createReactions,\n  createStateSetter,\n  createStateGetter,\n  isHTMLInputEvent,\n  setValidatorRule,\n  batchValidate,\n  batchSubmit,\n  batchReset,\n  setValidating,\n  setSubmitting,\n  setLoading,\n  validateSelf,\n  modifySelf,\n  getValidFieldDefaultValue,\n  initializeStart,\n  initializeEnd,\n  createChildrenFeedbackFilter,\n} from '../shared/internals'\nimport { Form } from './Form'\nimport { BaseField } from './BaseField'\nexport class Field<\n  Decorator extends JSXComponent = any,\n  Component extends JSXComponent = any,\n  TextType = any,\n  ValueType = any\n> extends BaseField<Decorator, Component, TextType> {\n  displayName = 'Field'\n\n  props: IFieldProps<Decorator, Component, TextType, ValueType>\n\n  loading: boolean\n  validating: boolean\n  submitting: boolean\n  active: boolean\n  visited: boolean\n  selfModified: boolean\n  modified: boolean\n  inputValue: ValueType\n  inputValues: any[]\n  dataSource: FieldDataSource\n  validator: FieldValidator\n  feedbacks: IFieldFeedback[]\n  caches: IFieldCaches = {}\n  requests: IFieldRequests = {}\n\n  constructor(\n    address: FormPathPattern,\n    props: IFieldProps<Decorator, Component, TextType, ValueType>,\n    form: Form,\n    designable: boolean\n  ) {\n    super()\n    this.form = form\n    this.props = props\n    this.designable = designable\n    initializeStart()\n    this.makeIndexes(address)\n    this.initialize()\n    this.makeObservable()\n    this.makeReactive()\n    this.onInit()\n    initializeEnd()\n  }\n\n  protected initialize() {\n    this.initialized = false\n    this.loading = false\n    this.validating = false\n    this.submitting = false\n    this.selfModified = false\n    this.active = false\n    this.visited = false\n    this.mounted = false\n    this.unmounted = false\n    this.inputValues = []\n    this.inputValue = null\n    this.feedbacks = []\n    this.title = this.props.title\n    this.description = this.props.description\n    this.display = this.props.display\n    this.pattern = this.props.pattern\n    this.editable = this.props.editable\n    this.disabled = this.props.disabled\n    this.readOnly = this.props.readOnly\n    this.readPretty = this.props.readPretty\n    this.visible = this.props.visible\n    this.hidden = this.props.hidden\n    this.dataSource = this.props.dataSource\n    this.validator = this.props.validator\n    this.required = this.props.required\n    this.content = this.props.content\n    this.value = getValidFieldDefaultValue(\n      this.props.value,\n      this.props.initialValue\n    )\n    this.initialValue = this.props.initialValue\n    this.data = this.props.data\n    this.decorator = toArr(this.props.decorator)\n    this.component = toArr(this.props.component)\n  }\n\n  protected makeObservable() {\n    if (this.designable) return\n    define(this, {\n      title: observable.ref,\n      description: observable.ref,\n      dataSource: observable.ref,\n      selfDisplay: observable.ref,\n      selfPattern: observable.ref,\n      loading: observable.ref,\n      validating: observable.ref,\n      submitting: observable.ref,\n      selfModified: observable.ref,\n      modified: observable.ref,\n      active: observable.ref,\n      visited: observable.ref,\n      initialized: observable.ref,\n      mounted: observable.ref,\n      unmounted: observable.ref,\n      inputValue: observable.ref,\n      inputValues: observable.ref,\n      decoratorType: observable.ref,\n      componentType: observable.ref,\n      content: observable.ref,\n      decoratorProps: observable,\n      componentProps: observable,\n      validator: observable.shallow,\n      feedbacks: observable.shallow,\n      data: observable.shallow,\n      component: observable.computed,\n      decorator: observable.computed,\n      errors: observable.computed,\n      warnings: observable.computed,\n      successes: observable.computed,\n      valid: observable.computed,\n      invalid: observable.computed,\n      selfErrors: observable.computed,\n      selfWarnings: observable.computed,\n      selfSuccesses: observable.computed,\n      selfValid: observable.computed,\n      selfInvalid: observable.computed,\n      validateStatus: observable.computed,\n      value: observable.computed,\n      initialValue: observable.computed,\n      display: observable.computed,\n      pattern: observable.computed,\n      required: observable.computed,\n      hidden: observable.computed,\n      visible: observable.computed,\n      disabled: observable.computed,\n      readOnly: observable.computed,\n      readPretty: observable.computed,\n      editable: observable.computed,\n      setDisplay: action,\n      setTitle: action,\n      setDescription: action,\n      setDataSource: action,\n      setValue: action,\n      setPattern: action,\n      setInitialValue: action,\n      setLoading: action,\n      setValidating: action,\n      setFeedback: action,\n      setSelfErrors: action,\n      setSelfWarnings: action,\n      setSelfSuccesses: action,\n      setValidator: action,\n      setRequired: action,\n      setComponent: action,\n      setComponentProps: action,\n      setDecorator: action,\n      setDecoratorProps: action,\n      setData: action,\n      setContent: action,\n      validate: action,\n      reset: action,\n      onInit: batch,\n      onInput: batch,\n      onMount: batch,\n      onUnmount: batch,\n      onFocus: batch,\n      onBlur: batch,\n    })\n  }\n\n  protected makeReactive() {\n    if (this.designable) return\n    this.disposers.push(\n      reaction(\n        () => this.value,\n        (value) => {\n          this.notify(LifeCycleTypes.ON_FIELD_VALUE_CHANGE)\n          if (isValid(value) && this.selfModified && !this.caches.inputting) {\n            validateSelf(this)\n          }\n        }\n      ),\n      reaction(\n        () => this.initialValue,\n        () => {\n          this.notify(LifeCycleTypes.ON_FIELD_INITIAL_VALUE_CHANGE)\n        }\n      ),\n      reaction(\n        () => this.display,\n        (display) => {\n          const value = this.value\n          if (display === 'visible') {\n            if (isEmpty(value)) {\n              this.setValue(this.caches.value)\n              this.caches.value = undefined\n            }\n          } else {\n            this.caches.value = toJS(value)\n            if (display === 'none') {\n              this.form.deleteValuesIn(this.path)\n            }\n          }\n          if (display === 'none' || display === 'hidden') {\n            this.setFeedback({\n              type: 'error',\n              messages: [],\n            })\n          }\n        }\n      ),\n      reaction(\n        () => this.pattern,\n        (pattern) => {\n          if (pattern !== 'editable') {\n            this.setFeedback({\n              type: 'error',\n              messages: [],\n            })\n          }\n        }\n      )\n    )\n    createReactions(this)\n  }\n\n  get selfErrors() {\n    return queryFeedbackMessages(this, {\n      type: 'error',\n    })\n  }\n\n  get errors() {\n    return this.form.errors.filter(createChildrenFeedbackFilter(this))\n  }\n\n  get selfWarnings() {\n    return queryFeedbackMessages(this, {\n      type: 'warning',\n    })\n  }\n\n  get warnings() {\n    return this.form.warnings.filter(createChildrenFeedbackFilter(this))\n  }\n\n  get selfSuccesses() {\n    return queryFeedbackMessages(this, {\n      type: 'success',\n    })\n  }\n\n  get successes() {\n    return this.form.successes.filter(createChildrenFeedbackFilter(this))\n  }\n\n  get selfValid() {\n    return !this.selfErrors.length\n  }\n\n  get valid() {\n    return !this.errors.length\n  }\n\n  get selfInvalid() {\n    return !this.selfValid\n  }\n\n  get invalid() {\n    return !this.valid\n  }\n\n  get value(): ValueType {\n    return this.form.getValuesIn(this.path)\n  }\n\n  get initialValue(): ValueType {\n    return this.form.getInitialValuesIn(this.path)\n  }\n\n  get required() {\n    return parseValidatorDescriptions(this.validator).some(\n      (desc) => desc.required\n    )\n  }\n\n  get validateStatus() {\n    if (this.validating) return 'validating'\n    if (this.selfInvalid) return 'error'\n    if (this.selfWarnings.length) return 'warning'\n    if (this.selfSuccesses.length) return 'success'\n  }\n\n  set required(required: boolean) {\n    if (this.required === required) return\n    this.setValidatorRule('required', required)\n  }\n\n  set value(value: ValueType) {\n    if (!this.initialized) {\n      if (this.display === 'none') {\n        this.caches.value = value\n        return\n      }\n      if (!allowAssignDefaultValue(this.value, value) && !this.designable) {\n        return\n      }\n    }\n    this.form.setValuesIn(this.path, value)\n  }\n\n  set initialValue(initialValue: ValueType) {\n    if (!this.initialized) {\n      if (\n        !allowAssignDefaultValue(this.initialValue, initialValue) &&\n        !this.designable\n      ) {\n        return\n      }\n    }\n    this.form.setInitialValuesIn(this.path, initialValue)\n  }\n\n  set selfErrors(messages: FeedbackMessage) {\n    this.setFeedback({\n      type: 'error',\n      code: 'EffectError',\n      messages,\n    })\n  }\n\n  set selfWarnings(messages: FeedbackMessage) {\n    this.setFeedback({\n      type: 'warning',\n      code: 'EffectWarning',\n      messages,\n    })\n  }\n\n  set selfSuccesses(messages: FeedbackMessage) {\n    this.setFeedback({\n      type: 'success',\n      code: 'EffectSuccess',\n      messages,\n    })\n  }\n\n  setDataSource = (dataSource?: FieldDataSource) => {\n    this.dataSource = dataSource\n  }\n\n  setFeedback = (feedback?: IFieldFeedback) => {\n    updateFeedback(this, feedback)\n  }\n\n  setSelfErrors = (messages?: FeedbackMessage) => {\n    this.selfErrors = messages\n  }\n\n  setSelfWarnings = (messages?: FeedbackMessage) => {\n    this.selfWarnings = messages\n  }\n\n  setSelfSuccesses = (messages?: FeedbackMessage) => {\n    this.selfSuccesses = messages\n  }\n\n  setValidator = (validator?: FieldValidator) => {\n    this.validator = validator\n  }\n\n  setValidatorRule = (name: string, value: any) => {\n    setValidatorRule(this, name, value)\n  }\n\n  setRequired = (required?: boolean) => {\n    this.required = required\n  }\n\n  setValue = (value?: ValueType) => {\n    this.value = value\n  }\n\n  setInitialValue = (initialValue?: ValueType) => {\n    this.initialValue = initialValue\n  }\n\n  setLoading = (loading?: boolean) => {\n    setLoading(this, loading)\n  }\n\n  setValidating = (validating?: boolean) => {\n    setValidating(this, validating)\n  }\n\n  setSubmitting = (submitting?: boolean) => {\n    setSubmitting(this, submitting)\n  }\n\n  setState: IModelSetter<IFieldState> = createStateSetter(this)\n\n  getState: IModelGetter<IFieldState> = createStateGetter(this)\n\n  onInput = async (...args: any[]) => {\n    if (args[0]?.target) {\n      if (!isHTMLInputEvent(args[0])) return\n    }\n    const values = getValuesFromEvent(args)\n    const value = values[0]\n    this.caches.inputting = true\n    this.inputValue = value\n    this.inputValues = values\n    this.value = value\n    this.modify()\n    this.notify(LifeCycleTypes.ON_FIELD_INPUT_VALUE_CHANGE)\n    this.notify(LifeCycleTypes.ON_FORM_INPUT_CHANGE, this.form)\n    await validateSelf(this, 'onInput')\n    this.caches.inputting = false\n  }\n\n  onFocus = async (...args: any[]) => {\n    if (args[0]?.target) {\n      if (!isHTMLInputEvent(args[0], false)) return\n    }\n    this.active = true\n    this.visited = true\n    await validateSelf(this, 'onFocus')\n  }\n\n  onBlur = async (...args: any[]) => {\n    if (args[0]?.target) {\n      if (!isHTMLInputEvent(args[0], false)) return\n    }\n    this.active = false\n    await validateSelf(this, 'onBlur')\n  }\n\n  validate = (triggerType?: ValidatorTriggerType) => {\n    return batchValidate(this, `${this.address}.**`, triggerType)\n  }\n\n  submit = <T>(onSubmit?: (values: any) => Promise<T> | void): Promise<T> => {\n    return batchSubmit(this, onSubmit)\n  }\n\n  reset = (options?: IFieldResetOptions) => {\n    return batchReset(this, `${this.address}.**`, options)\n  }\n\n  queryFeedbacks = (search?: ISearchFeedback): IFieldFeedback[] => {\n    return queryFeedbacks(this, search)\n  }\n\n  modify = () => modifySelf(this)\n}\n"]}
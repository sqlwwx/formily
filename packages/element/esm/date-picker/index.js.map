{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/date-picker/index.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,OAAO,EAAE,kBAAkB,EAAE,MAAM,wBAAwB,CAAA;AAC3D,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,aAAa,EAAE,MAAM,cAAc,CAAA;;AAI/D,OAAO,EAAE,WAAW,EAAE,MAAM,iBAAiB,CAAA;AAI7C,IAAM,qBAAqB,GAAG,kBAAkB,CAC9C,YAAY,EACZ;IACE,MAAM,EAAE,OAAO;CAChB,CACF,CAAA;AAED,IAAM,gBAAgB,GAAG,UAAC,KAAK,EAAE,UAAqB;IAArB,2BAAA,EAAA,qBAAqB;IACpD,IAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAA;IAEvB,IAAI,IAAI,KAAK,MAAM,IAAI,UAAU,KAAK,QAAQ,EAAE;QAC9C,OAAO,SAAS,CAAA;KACjB;SAAM,IAAI,IAAI,KAAK,OAAO,EAAE;QAC3B,OAAO,SAAS,CAAA;KACjB;SAAM,IAAI,IAAI,KAAK,MAAM,EAAE;QAC1B,OAAO,MAAM,CAAA;KACd;SAAM,IAAI,IAAI,KAAK,UAAU,IAAI,IAAI,KAAK,eAAe,EAAE;QAC1D,OAAO,qBAAqB,CAAA;KAC7B;IAED,OAAO,YAAY,CAAA;AACrB,CAAC,CAAA;AAED,MAAM,CAAC,IAAM,UAAU,GAAG,OAAO,CAC/B,qBAAqB,EACrB,QAAQ,CAAC,EAAE,QAAQ,EAAE,UAAU,EAAE,EAAE,UAAC,KAAK;IACvC,6BACK,KAAK,KACR,MAAM,EAAE,KAAK,CAAC,MAAM,IAAI,gBAAgB,CAAC,KAAK,CAAC,EAC/C,WAAW,EAAE,KAAK,CAAC,WAAW,IAAI,gBAAgB,CAAC,KAAK,EAAE,aAAa,CAAC,IACzE;AACH,CAAC,CAAC,EACF,aAAa,CAAC,WAAW,CAAC,UAAU,CAAC,CACtC,CAAA;AAED,eAAe,UAAU,CAAA","sourcesContent":["import { transformComponent } from '../__builtins__/shared'\nimport { connect, mapProps, mapReadPretty } from '@formily/vue'\n\nimport type { DatePicker as ElDatePickerProps } from 'element-ui'\nimport { DatePicker as ElDatePicker } from 'element-ui'\nimport { PreviewText } from '../preview-text'\n\nexport type DatePickerProps = ElDatePickerProps\n\nconst TransformElDatePicker = transformComponent<DatePickerProps>(\n  ElDatePicker,\n  {\n    change: 'input',\n  }\n)\n\nconst getDefaultFormat = (props, formatType = 'format') => {\n  const type = props.type\n\n  if (type === 'week' && formatType === 'format') {\n    return 'yyyy-WW'\n  } else if (type === 'month') {\n    return 'yyyy-MM'\n  } else if (type === 'year') {\n    return 'yyyy'\n  } else if (type === 'datetime' || type === 'datetimerange') {\n    return 'yyyy-MM-dd HH:mm:ss'\n  }\n\n  return 'yyyy-MM-dd'\n}\n\nexport const DatePicker = connect(\n  TransformElDatePicker,\n  mapProps({ readOnly: 'readonly' }, (props) => {\n    return {\n      ...props,\n      format: props.format || getDefaultFormat(props),\n      valueFormat: props.valueFormat || getDefaultFormat(props, 'valueFormat'),\n    }\n  }),\n  mapReadPretty(PreviewText.DatePicker)\n)\n\nexport default DatePicker\n"]}
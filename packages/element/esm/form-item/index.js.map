{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/form-item/index.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  ref,\n  defineComponent,\n  onMounted,\n  Ref,\n  onBeforeUnmount,\n  watch,\n  provide,\n} from '@vue/composition-api'\nimport { isVoidField } from '@formily/core'\nimport { connect, mapProps, h } from '@formily/vue'\nimport { useFormLayout, FormLayoutShallowContext } from '../form-layout'\nimport { composeExport, resolveComponent } from '../__builtins__/shared'\nimport { stylePrefix } from '../__builtins__/configs'\nimport { Component } from 'vue'\nimport { Tooltip } from 'element-ui'\nimport ResizeObserver from 'resize-observer-polyfill'\n\nexport type FormItemProps = {\n  className?: string\n  required?: boolean\n  label?: string | Component\n  colon?: boolean\n  tooltip?: string | Component\n  layout?: 'vertical' | 'horizontal' | 'inline'\n  labelStyle?: Record<string, any>\n  labelAlign?: 'left' | 'right'\n  labelWrap?: boolean\n  labelWidth?: number\n  wrapperWidth?: number\n  labelCol?: number\n  wrapperCol?: number\n  wrapperAlign?: 'left' | 'right'\n  wrapperWrap?: boolean\n  wrapperStyle?: Record<string, any>\n  fullness?: boolean\n  addonBefore?: string | Component\n  addonAfter?: string | Component\n  size?: 'small' | 'default' | 'large'\n  extra?: string\n  feedbackText?: string | Component\n  feedbackLayout?: 'loose' | 'terse' | 'popover' | 'none' | (string & {})\n  feedbackStatus?: 'error' | 'warning' | 'success' | 'pending' | (string & {})\n  tooltipLayout?: 'icon' | 'text'\n  feedbackIcon?: string | Component\n  asterisk?: boolean\n  gridSpan?: number\n  bordered?: boolean\n  inset?: boolean\n}\n\nconst useOverflow = (containerRef: Ref<HTMLElement>) => {\n  const overflow = ref(false)\n  let resizeObserver: ResizeObserver | undefined\n\n  const cleanup = () => {\n    if (resizeObserver) {\n      resizeObserver.unobserve(containerRef.value)\n      resizeObserver = null\n    }\n  }\n\n  const observer = () => {\n    const container = containerRef.value\n    const content = container.querySelector('label')\n    const containerWidth = container.getBoundingClientRect().width\n    const contentWidth = content?.getBoundingClientRect().width\n\n    if (containerWidth !== 0) {\n      if (contentWidth > containerWidth) {\n        overflow.value = true\n      } else {\n        overflow.value = false\n      }\n    }\n  }\n\n  const stopWatch = watch(\n    () => containerRef.value,\n    (el) => {\n      cleanup()\n\n      if (el) {\n        resizeObserver = new ResizeObserver(observer)\n        resizeObserver.observe(el)\n      }\n    },\n    { immediate: true, flush: 'post' }\n  )\n\n  onBeforeUnmount(() => {\n    cleanup()\n    stopWatch()\n  })\n\n  return overflow\n}\n\nconst ICON_MAP = {\n  error: () => h('i', { class: 'el-icon-circle-close' }, {}),\n  success: () => h('i', { class: 'el-icon-circle-check' }, {}),\n  warning: () => h('i', { class: 'el-icon-warning-outline' }, {}),\n}\n\nexport const FormBaseItem = defineComponent<FormItemProps>({\n  name: 'FormItem',\n  props: {\n    className: {},\n    required: {},\n    label: {},\n    colon: {},\n    layout: {},\n    tooltip: {},\n    labelStyle: {},\n    labelAlign: {},\n    labelWrap: {},\n    labelWidth: {},\n    wrapperWidth: {},\n    labelCol: {},\n    wrapperCol: {},\n    wrapperAlign: {},\n    wrapperWrap: {},\n    wrapperStyle: {},\n    fullness: {},\n    addonBefore: {},\n    addonAfter: {},\n    size: {},\n    extra: {},\n    feedbackText: {},\n    feedbackLayout: {},\n    tooltipLayout: {},\n    feedbackStatus: {},\n    feedbackIcon: {},\n    asterisk: {},\n    gridSpan: {},\n    bordered: { default: true },\n    inset: { default: false },\n  },\n  setup(props, { slots, attrs, refs }) {\n    const active = ref(false)\n    const deepLayoutRef = useFormLayout()\n\n    const prefixCls = `${stylePrefix}-form-item`\n\n    const containerRef = ref(null)\n    const overflow = useOverflow(containerRef)\n\n    onMounted(() => {\n      containerRef.value = refs.labelContainer\n    })\n\n    provide(FormLayoutShallowContext, ref(null))\n\n    return () => {\n      const gridStyles: Record<string, any> = {}\n\n      const deepLayout = deepLayoutRef.value\n      const {\n        label,\n        colon = deepLayout.colon ?? true,\n        layout = deepLayout.layout ?? 'horizontal',\n        tooltip,\n        labelStyle = {},\n        labelWrap = deepLayout.labelWrap ?? false,\n        labelWidth = deepLayout.labelWidth,\n        wrapperWidth = deepLayout.wrapperWidth,\n        labelCol = deepLayout.labelCol,\n        wrapperCol = deepLayout.wrapperCol,\n        wrapperAlign = deepLayout.wrapperAlign ?? 'left',\n        wrapperWrap = deepLayout.wrapperWrap,\n        wrapperStyle = {},\n        fullness = deepLayout.fullness,\n        addonBefore,\n        addonAfter,\n        size = deepLayout.size,\n        extra,\n        feedbackText,\n        feedbackLayout = deepLayout.feedbackLayout ?? 'loose',\n        tooltipLayout = deepLayout.tooltipLayout ?? 'icon',\n        feedbackStatus,\n        feedbackIcon,\n        asterisk,\n        bordered = deepLayout.bordered,\n        inset = deepLayout.inset,\n      } = props\n      const labelAlign =\n        deepLayout.layout === 'vertical'\n          ? props.labelAlign ?? deepLayout.labelAlign ?? 'left'\n          : props.labelAlign ?? deepLayout.labelAlign ?? 'right'\n\n      // 固定宽度\n      let enableCol = false\n      if (labelWidth || wrapperWidth) {\n        if (labelWidth) {\n          labelStyle.width = `${labelWidth}px`\n          labelStyle.maxWidth = `${labelWidth}px`\n        }\n        if (wrapperWidth) {\n          wrapperStyle.width = `${wrapperWidth}px`\n          wrapperStyle.maxWidth = `${wrapperWidth}px`\n        }\n        // 栅格模式\n      } else if (labelCol || wrapperCol) {\n        enableCol = true\n      }\n\n      const formatChildren =\n        feedbackLayout === 'popover'\n          ? h(\n              'el-popover',\n              {\n                props: {\n                  disabled: !feedbackText,\n                  placement: 'top',\n                },\n              },\n              {\n                reference: () =>\n                  h('div', {}, { default: () => slots.default?.() }),\n                default: () => [\n                  h(\n                    'div',\n                    {\n                      class: {\n                        [`${prefixCls}-${feedbackStatus}-help`]:\n                          !!feedbackStatus,\n                        [`${prefixCls}-help`]: true,\n                      },\n                    },\n                    {\n                      default: () => [\n                        feedbackStatus &&\n                        ['error', 'success', 'warning'].includes(feedbackStatus)\n                          ? ICON_MAP[\n                              feedbackStatus as 'error' | 'success' | 'warning'\n                            ]()\n                          : '',\n                        resolveComponent(feedbackText),\n                      ],\n                    }\n                  ),\n                ],\n              }\n            )\n          : slots.default?.()\n\n      const renderLabelText = () => {\n        const labelChildren = h(\n          'div',\n          {\n            class: `${prefixCls}-label-content`,\n            ref: 'labelContainer',\n          },\n          {\n            default: () => [\n              asterisk &&\n                h(\n                  'span',\n                  { class: `${prefixCls}-asterisk` },\n                  { default: () => ['*'] }\n                ),\n              h('label', {}, { default: () => [resolveComponent(label)] }),\n            ],\n          }\n        )\n        const isTextTooltip = tooltip && tooltipLayout === 'text'\n        if (isTextTooltip || overflow.value) {\n          return h(\n            Tooltip,\n            {\n              props: {\n                placement: 'top',\n              },\n            },\n            {\n              default: () => [labelChildren],\n              content: () =>\n                h(\n                  'div',\n                  {},\n                  {\n                    default: () => [\n                      overflow.value && resolveComponent(label),\n                      isTextTooltip && resolveComponent(tooltip),\n                    ],\n                  }\n                ),\n            }\n          )\n        } else {\n          return labelChildren\n        }\n      }\n      const renderTooltipIcon = () => {\n        if (tooltip && tooltipLayout === 'icon') {\n          return h(\n            'span',\n            {\n              class: `${prefixCls}-label-tooltip`,\n            },\n            {\n              default: () => [\n                h(\n                  Tooltip,\n                  {\n                    props: {\n                      placement: 'top',\n                    },\n                  },\n                  {\n                    default: () => [h('i', { class: 'el-icon-info' }, {})],\n                    content: () =>\n                      h(\n                        'div',\n                        {\n                          class: `${prefixCls}-label-tooltip-content`,\n                        },\n                        {\n                          default: () => [resolveComponent(tooltip)],\n                        }\n                      ),\n                  }\n                ),\n              ],\n            }\n          )\n        }\n      }\n      const renderLabel =\n        label &&\n        h(\n          'div',\n          {\n            class: {\n              [`${prefixCls}-label`]: true,\n              [`${prefixCls}-label-tooltip`]:\n                (tooltip && tooltipLayout === 'text') || overflow.value,\n              [`${prefixCls}-item-col-${labelCol}`]: enableCol && !!labelCol,\n            },\n            style: labelStyle,\n          },\n          {\n            default: () => [\n              // label content\n              renderLabelText(),\n              // label tooltip\n              renderTooltipIcon(),\n              // label colon\n              label &&\n                h(\n                  'span',\n                  {\n                    class: `${prefixCls}-colon`,\n                  },\n                  { default: () => [colon ? ':' : ''] }\n                ),\n            ],\n          }\n        )\n\n      const renderFeedback =\n        !!feedbackText &&\n        feedbackLayout !== 'popover' &&\n        feedbackLayout !== 'none' &&\n        h(\n          'div',\n          {\n            class: {\n              [`${prefixCls}-${feedbackStatus}-help`]: !!feedbackStatus,\n              [`${prefixCls}-help`]: true,\n              [`${prefixCls}-help-enter`]: true,\n              [`${prefixCls}-help-enter-active`]: true,\n            },\n          },\n          { default: () => [resolveComponent(feedbackText)] }\n        )\n\n      const renderExtra =\n        extra &&\n        h('div', { class: `${prefixCls}-extra` }, { default: () => [extra] })\n      const renderContent = h(\n        'div',\n        {\n          class: {\n            [`${prefixCls}-control`]: true,\n            [`${prefixCls}-item-col-${wrapperCol}`]: enableCol && !!wrapperCol,\n          },\n        },\n        {\n          default: () => [\n            h(\n              'div',\n              { class: `${prefixCls}-control-content` },\n              {\n                default: () => [\n                  addonBefore &&\n                    h(\n                      'div',\n                      { class: `${prefixCls}-addon-before` },\n                      {\n                        default: () => [resolveComponent(addonBefore)],\n                      }\n                    ),\n                  h(\n                    'div',\n                    {\n                      class: {\n                        [`${prefixCls}-control-content-component`]: true,\n                        [`${prefixCls}-control-content-component-has-feedback-icon`]:\n                          !!feedbackIcon,\n                      },\n                      style: wrapperStyle,\n                    },\n                    {\n                      default: () => [\n                        formatChildren,\n                        feedbackIcon &&\n                          h(\n                            'div',\n                            { class: `${prefixCls}-feedback-icon` },\n                            {\n                              default: () => [\n                                typeof feedbackIcon === 'string'\n                                  ? h('i', { class: feedbackIcon }, {})\n                                  : resolveComponent(feedbackIcon),\n                              ],\n                            }\n                          ),\n                      ],\n                    }\n                  ),\n                  addonAfter &&\n                    h(\n                      'div',\n                      { class: `${prefixCls}-addon-after` },\n                      {\n                        default: () => [resolveComponent(addonAfter)],\n                      }\n                    ),\n                ],\n              }\n            ),\n            renderFeedback,\n            renderExtra,\n          ],\n        }\n      )\n      return h(\n        'div',\n        {\n          style: {\n            ...gridStyles,\n          },\n          attrs: {\n            'data-grid-span': props.gridSpan,\n          },\n          class: {\n            [`${prefixCls}`]: true,\n            [`${prefixCls}-layout-${layout}`]: true,\n            [`${prefixCls}-${feedbackStatus}`]: !!feedbackStatus,\n            [`${prefixCls}-feedback-has-text`]: !!feedbackText,\n            [`${prefixCls}-size-${size}`]: !!size,\n            [`${prefixCls}-feedback-layout-${feedbackLayout}`]:\n              !!feedbackLayout,\n            [`${prefixCls}-fullness`]: !!fullness || !!inset || !!feedbackIcon,\n            [`${prefixCls}-inset`]: !!inset,\n            [`${prefixCls}-active`]: active.value,\n            [`${prefixCls}-inset-active`]: !!inset && active.value,\n            [`${prefixCls}-label-align-${labelAlign}`]: true,\n            [`${prefixCls}-control-align-${wrapperAlign}`]: true,\n            [`${prefixCls}-label-wrap`]: !!labelWrap,\n            [`${prefixCls}-control-wrap`]: !!wrapperWrap,\n            [`${prefixCls}-bordered-none`]:\n              bordered === false || !!inset || !!feedbackIcon,\n            [`${props.className}`]: !!props.className,\n          },\n          on: {\n            '!focus': () => {\n              if (feedbackIcon || inset) {\n                active.value = true\n              }\n            },\n            '!blur': () => {\n              if (feedbackIcon || inset) {\n                active.value = false\n              }\n            },\n          },\n        },\n        {\n          default: () => [renderLabel, renderContent],\n        }\n      )\n    }\n  },\n})\n\nconst Item = connect(\n  FormBaseItem,\n  mapProps(\n    { validateStatus: true, title: 'label', required: true },\n    (props, field) => {\n      if (isVoidField(field)) return props\n      if (!field) return props\n      const takeMessage = () => {\n        const split = (messages: any[]) => {\n          return messages.reduce((buf, text, index) => {\n            if (!text) return buf\n            return index < messages.length - 1\n              ? buf.concat([text, ', '])\n              : buf.concat([text])\n          }, [])\n        }\n        if (field.validating) return\n        if (props.feedbackText) return props.feedbackText\n        if (field.selfErrors.length) return split(field.selfErrors)\n        if (field.selfWarnings.length) return split(field.selfWarnings)\n        if (field.selfSuccesses.length) return split(field.selfSuccesses)\n      }\n      const errorMessages = takeMessage()\n      return {\n        feedbackText: Array.isArray(errorMessages)\n          ? errorMessages.join(', ')\n          : errorMessages,\n        extra: props.extra || field.description,\n      }\n    },\n    (props, field) => {\n      if (isVoidField(field)) return props\n      if (!field) return props\n      return {\n        feedbackStatus:\n          field.validateStatus === 'validating'\n            ? 'pending'\n            : (Array.isArray(field.decorator) &&\n                field.decorator[1]?.feedbackStatus) ||\n              field.validateStatus,\n      }\n    },\n    (props, field) => {\n      if (isVoidField(field)) return props\n\n      if (!field) return props\n      let asterisk = false\n      if (field.required && field.pattern !== 'readPretty') {\n        asterisk = true\n      }\n      if ('asterisk' in props) {\n        asterisk = props.asterisk\n      }\n      return {\n        asterisk,\n      }\n    }\n  )\n)\n\nexport const FormItem = composeExport(Item, {\n  BaseItem: FormBaseItem,\n})\n\nexport default FormItem\n"]}
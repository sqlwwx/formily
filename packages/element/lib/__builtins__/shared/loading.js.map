{"version":3,"file":"loading.js","sourceRoot":"","sources":["../../../src/__builtins__/shared/loading.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,yCAAoC;AAE7B,IAAM,OAAO,GAAG,UACrB,WAA0B,EAC1B,SAA6B;IAD7B,4BAAA,EAAA,0BAA0B;;;;;;oBAGtB,eAAe,GAAG,IAAI,CAAA;oBACtB,OAAO,GAAG,UAAU,CAAC;wBACvB,eAAe,GAAG,oBAAO,CAAC,OAAO,CAAC;4BAChC,IAAI,EAAE,WAAW;4BACjB,UAAU,EAAE,aAAa;yBAC1B,CAAC,CAAA;oBACJ,CAAC,EAAE,GAAG,CAAC,CAAA;;;;oBAEE,qBAAM,SAAS,EAAE,EAAA;wBAAxB,sBAAO,SAAiB,EAAA;;oBAExB,eAAe,aAAf,eAAe,uBAAf,eAAe,CAAE,KAAK,EAAE,CAAA;oBACxB,YAAY,CAAC,OAAO,CAAC,CAAA;;;;;;CAExB,CAAA;AAjBY,QAAA,OAAO,WAiBnB","sourcesContent":["import { Loading } from 'element-ui'\n\nexport const loading = async (\n  loadingText = 'Loading...',\n  processor: () => Promise<any>\n) => {\n  let loadingInstance = null\n  let loading = setTimeout(() => {\n    loadingInstance = Loading.service({\n      text: loadingText,\n      background: 'transparent',\n    })\n  }, 100)\n  try {\n    return await processor()\n  } finally {\n    loadingInstance?.close()\n    clearTimeout(loading)\n  }\n}\n"]}
{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/array-base/index.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { createContext, useContext } from 'react'\nimport { Button } from '@alifd/next'\nimport { isValid, clone } from '@formily/shared'\nimport { ButtonProps } from '@alifd/next/lib/button'\nimport { ArrayField } from '@formily/core'\nimport { useField, useFieldSchema, Schema, JSXComponent } from '@formily/react'\nimport { SortableHandle } from 'react-sortable-hoc'\nimport {\n  usePrefixCls,\n  PlusOutlinedIcon,\n  DeleteOutlinedIcon,\n  DownOutlinedIcon,\n  UpOutlinedIcon,\n  MenuOutlinedIcon,\n  IconProps,\n} from '../__builtins__'\nimport cls from 'classnames'\n\nexport interface IArrayBaseAdditionProps extends ButtonProps {\n  title?: string\n  method?: 'push' | 'unshift'\n  defaultValue?: any\n}\n\nexport interface IArrayBaseContext {\n  props: IArrayBaseProps\n  field: ArrayField\n  schema: Schema\n}\n\nexport interface IArrayBaseItemProps {\n  index: number\n  record: any\n}\n\nexport type ArrayBaseMixins = {\n  Addition?: React.FC<IArrayBaseAdditionProps>\n  Remove?: React.FC<IconProps & { index?: number }>\n  MoveUp?: React.FC<IconProps & { index?: number }>\n  MoveDown?: React.FC<IconProps & { index?: number }>\n  SortHandle?: React.FC<IconProps & { index?: number }>\n  Index?: React.FC\n  useArray?: () => IArrayBaseContext\n  useIndex?: () => number\n  useRecord?: () => any\n}\n\nexport interface IArrayBaseProps {\n  disabled?: boolean\n  onAdd?: (index: number) => void\n  onRemove?: (index: number) => void\n  onMoveDown?: (index: number) => void\n  onMoveUp?: (index: number) => void\n}\n\ntype ComposedArrayBase = React.FC<IArrayBaseProps> &\n  ArrayBaseMixins & {\n    Item?: React.FC<IArrayBaseItemProps>\n    mixin?: <T extends JSXComponent>(target: T) => T & ArrayBaseMixins\n  }\n\nconst ArrayBaseContext = createContext<IArrayBaseContext>(null)\n\nconst ItemContext = createContext<IArrayBaseItemProps>(null)\n\nconst useArray = () => {\n  return useContext(ArrayBaseContext)\n}\n\nconst useIndex = (index?: number) => {\n  const ctx = useContext(ItemContext)\n  return ctx ? ctx.index : index\n}\n\nconst useRecord = (record?: number) => {\n  const ctx = useContext(ItemContext)\n  return ctx ? ctx.record : record\n}\n\nconst getDefaultValue = (defaultValue: any, schema: Schema) => {\n  if (isValid(defaultValue)) return clone(defaultValue)\n  if (Array.isArray(schema?.items))\n    return getDefaultValue(defaultValue, schema.items[0])\n  if (schema?.items?.type === 'array') return []\n  if (schema?.items?.type === 'boolean') return true\n  if (schema?.items?.type === 'date') return ''\n  if (schema?.items?.type === 'datetime') return ''\n  if (schema?.items?.type === 'number') return 0\n  if (schema?.items?.type === 'object') return {}\n  if (schema?.items?.type === 'string') return ''\n  return null\n}\n\nexport const ArrayBase: ComposedArrayBase = (props) => {\n  const field = useField<ArrayField>()\n  const schema = useFieldSchema()\n  return (\n    <ArrayBaseContext.Provider value={{ field, schema, props }}>\n      {props.children}\n    </ArrayBaseContext.Provider>\n  )\n}\n\nArrayBase.Item = ({ children, ...props }) => {\n  return <ItemContext.Provider value={props}>{children}</ItemContext.Provider>\n}\n\nconst SortHandle = SortableHandle((props: any) => {\n  const prefixCls = usePrefixCls('formily-array-base')\n  return (\n    <MenuOutlinedIcon\n      {...props}\n      className={cls(`${prefixCls}-sort-handle`, props.className)}\n      style={{ ...props.style }}\n    />\n  )\n}) as any\n\nArrayBase.SortHandle = () => {\n  const array = useArray()\n  if (!array) return null\n  if (array.field?.pattern !== 'editable') return null\n  return <SortHandle />\n}\n\nArrayBase.Index = (props) => {\n  const index = useIndex()\n  const prefixCls = usePrefixCls('formily-array-base')\n  return (\n    <span {...props} className={`${prefixCls}-index`}>\n      #{index + 1}.\n    </span>\n  )\n}\n\nArrayBase.Addition = (props) => {\n  const self = useField()\n  const array = useArray()\n  const prefixCls = usePrefixCls('formily-array-base')\n  if (!array) return null\n  if (\n    array.field?.pattern !== 'editable' &&\n    array.field?.pattern !== 'disabled'\n  )\n    return null\n  return (\n    <Button\n      {...props}\n      disabled={array.field?.disabled}\n      className={cls(`${prefixCls}-addition`, props.className)}\n      style={{ display: 'block', width: '100%', ...props.style }}\n      onClick={(e) => {\n        if (array.props?.disabled) return\n        e.stopPropagation()\n        const defaultValue = getDefaultValue(props.defaultValue, array.schema)\n        if (props.method === 'unshift') {\n          array.field?.unshift?.(defaultValue)\n          array.props?.onAdd?.(0)\n        } else {\n          array.field?.push?.(defaultValue)\n          array.props?.onAdd?.(array?.field?.value?.length - 1)\n        }\n        if (props.onClick) {\n          props.onClick(e)\n        }\n      }}\n    >\n      <PlusOutlinedIcon />\n      {props.title || self.title}\n    </Button>\n  )\n}\n\nArrayBase.Remove = React.forwardRef((props, ref) => {\n  const index = useIndex(props.index)\n  const array = useArray()\n  const prefixCls = usePrefixCls('formily-array-base')\n  if (!array) return null\n  if (array.field?.pattern !== 'editable') return null\n  return (\n    <DeleteOutlinedIcon\n      {...props}\n      className={cls(`${prefixCls}-remove`, props.className)}\n      ref={ref}\n      onClick={(e) => {\n        if (array.props?.disabled) return\n        e.stopPropagation()\n        array.field?.remove?.(index)\n        array.props?.onRemove?.(index)\n        if (props.onClick) {\n          props.onClick(e)\n        }\n      }}\n    />\n  )\n})\n\nArrayBase.MoveDown = React.forwardRef((props, ref) => {\n  const index = useIndex(props.index)\n  const array = useArray()\n  const prefixCls = usePrefixCls('formily-array-base')\n  if (!array) return null\n  if (array.field?.pattern !== 'editable') return null\n  return (\n    <DownOutlinedIcon\n      {...props}\n      className={cls(`${prefixCls}-move-down`, props.className)}\n      ref={ref}\n      onClick={(e) => {\n        if (array.props?.disabled) return\n        e.stopPropagation()\n        array.field?.moveDown?.(index)\n        array.props?.onMoveDown?.(index)\n        if (props.onClick) {\n          props.onClick(e)\n        }\n      }}\n    />\n  )\n})\n\nArrayBase.MoveUp = React.forwardRef((props, ref) => {\n  const index = useIndex(props.index)\n  const array = useArray()\n  const prefixCls = usePrefixCls('formily-array-base')\n  if (!array) return null\n  if (array.field?.pattern !== 'editable') return null\n  return (\n    <UpOutlinedIcon\n      {...props}\n      className={cls(`${prefixCls}-move-up`, props.className)}\n      ref={ref}\n      onClick={(e) => {\n        if (array.props?.disabled) return\n        e.stopPropagation()\n        array?.field?.moveUp(index)\n        array?.props?.onMoveUp?.(index)\n        if (props.onClick) {\n          props.onClick(e)\n        }\n      }}\n    />\n  )\n})\n\nArrayBase.useArray = useArray\nArrayBase.useIndex = useIndex\nArrayBase.useRecord = useRecord\nArrayBase.mixin = (target: any) => {\n  target.Index = ArrayBase.Index\n  target.SortHandle = ArrayBase.SortHandle\n  target.Addition = ArrayBase.Addition\n  target.Remove = ArrayBase.Remove\n  target.MoveDown = ArrayBase.MoveDown\n  target.MoveUp = ArrayBase.MoveUp\n  target.useArray = ArrayBase.useArray\n  target.useIndex = ArrayBase.useIndex\n  target.useRecord = ArrayBase.useRecord\n  return target\n}\n\nexport default ArrayBase\n"]}
{"version":3,"file":"useFormEffects.js","sourceRoot":"","sources":["../../src/hooks/useFormEffects.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,eAAe,EAAE,MAAM,UAAU,CAAA;AAE1C,OAAO,EAAE,GAAG,EAAE,MAAM,iBAAiB,CAAA;AACrC,OAAO,EAAE,OAAO,EAAE,MAAM,WAAW,CAAA;AAEnC,MAAM,CAAC,IAAM,cAAc,GAAG,UAAC,OAA8B;IAC3D,IAAM,OAAO,GAAG,OAAO,EAAE,CAAA;IAEzB,IAAM,EAAE,GAAG,GAAG,EAAE,CAAA;IAChB,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAA;IAErC,eAAe,CAAC;QACd,OAAO,CAAC,KAAK,CAAC,aAAa,CAAC,EAAE,CAAC,CAAA;IACjC,CAAC,CAAC,CAAA;AACJ,CAAC,CAAA","sourcesContent":["import { onBeforeUnmount } from 'vue-demi'\nimport { Form } from '@formily/core'\nimport { uid } from '@formily/shared'\nimport { useForm } from './useForm'\n\nexport const useFormEffects = (effects?: (form: Form) => void): void => {\n  const formRef = useForm()\n\n  const id = uid()\n  formRef.value.addEffects(id, effects)\n\n  onBeforeUnmount(() => {\n    formRef.value.removeEffects(id)\n  })\n}\n"]}
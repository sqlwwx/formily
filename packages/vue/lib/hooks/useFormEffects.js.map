{"version":3,"file":"useFormEffects.js","sourceRoot":"","sources":["../../src/hooks/useFormEffects.ts"],"names":[],"mappings":";;;AAAA,qCAA0C;AAE1C,0CAAqC;AACrC,qCAAmC;AAE5B,IAAM,cAAc,GAAG,UAAC,OAA8B;IAC3D,IAAM,OAAO,GAAG,IAAA,iBAAO,GAAE,CAAA;IAEzB,IAAM,EAAE,GAAG,IAAA,YAAG,GAAE,CAAA;IAChB,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAA;IAErC,IAAA,0BAAe,EAAC;QACd,OAAO,CAAC,KAAK,CAAC,aAAa,CAAC,EAAE,CAAC,CAAA;IACjC,CAAC,CAAC,CAAA;AACJ,CAAC,CAAA;AATY,QAAA,cAAc,kBAS1B","sourcesContent":["import { onBeforeUnmount } from 'vue-demi'\nimport { Form } from '@formily/core'\nimport { uid } from '@formily/shared'\nimport { useForm } from './useForm'\n\nexport const useFormEffects = (effects?: (form: Form) => void): void => {\n  const formRef = useForm()\n\n  const id = uid()\n  formRef.value.addEffects(id, effects)\n\n  onBeforeUnmount(() => {\n    formRef.value.removeEffects(id)\n  })\n}\n"]}